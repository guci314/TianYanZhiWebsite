<!DOCTYPE html>
<html>
<head>
    <title>å…¨å±åŠŸèƒ½æµ‹è¯•</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h1>å…¨å±åŠŸèƒ½è°ƒè¯•æµ‹è¯•</h1>
    
    <div style="margin: 20px 0;">
        <button onclick="testFullscreen()" style="background: #007cba; color: white; border: none; padding: 15px 25px; border-radius: 5px; cursor: pointer; font-size: 16px;">
            ğŸ”³ æµ‹è¯•å…¨å±åŠŸèƒ½
        </button>
        
        <button onclick="testConsole()" style="background: #28a745; color: white; border: none; padding: 15px 25px; border-radius: 5px; cursor: pointer; font-size: 16px; margin-left: 10px;">
            ğŸ› æµ‹è¯•æ§åˆ¶å°
        </button>
    </div>
    
    <div id="pdf-container" style="border: 2px solid #007cba; border-radius: 8px; overflow: hidden; background: #f9f9f9; width: 800px; height: 600px; position: relative;">
        <iframe id="test-iframe" 
                src="/wp-content/plugins/pdfjs-viewer-shortcode/pdfjs/web/viewer.php?file=/wp-content/uploads/2025/05/How-To-Use-AI-Agents-in-2025.pdf" 
                width="100%" 
                height="100%" 
                style="border: none; display: block;"
                title="PDFæµ‹è¯•æŸ¥çœ‹å™¨">
        </iframe>
    </div>
    
    <div id="debug-info" style="background: #f8f9fa; border: 1px solid #dee2e6; padding: 15px; margin-top: 20px; font-family: monospace; font-size: 12px;">
        <strong>è°ƒè¯•ä¿¡æ¯å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</strong>
    </div>
    
    <script>
    function updateDebug(message) {
        const debugDiv = document.getElementById('debug-info');
        const timestamp = new Date().toLocaleTimeString();
        debugDiv.innerHTML += '<br>[' + timestamp + '] ' + message;
        console.log('[' + timestamp + '] ' + message);
    }
    
    function testConsole() {
        updateDebug('ğŸ› æµ‹è¯•æ§åˆ¶å°åŠŸèƒ½æ­£å¸¸å·¥ä½œ');
        alert('æ§åˆ¶å°æµ‹è¯•æˆåŠŸï¼è¯·æ£€æŸ¥F12å¼€å‘è€…å·¥å…·ä¸­çš„Consoleæ ‡ç­¾é¡µ');
    }
    
    function testFullscreen() {
        updateDebug('ğŸš€ å¼€å§‹å…¨å±æµ‹è¯•...');
        
        const container = document.getElementById('pdf-container');
        const iframe = document.getElementById('test-iframe');
        
        if (!container) {
            updateDebug('âŒ æ‰¾ä¸åˆ°PDFå®¹å™¨');
            return;
        }
        
        if (!iframe) {
            updateDebug('âŒ æ‰¾ä¸åˆ°PDF iframe');
            return;
        }
        
        updateDebug('âœ… æ‰¾åˆ°å®¹å™¨å’Œiframe');
        updateDebug('ğŸ” iframe src: ' + iframe.src);
        
        // æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ
        if (iframe.requestFullscreen) {
            updateDebug('âœ… æµè§ˆå™¨æ”¯æŒ requestFullscreen');
            iframe.requestFullscreen().then(() => {
                updateDebug('âœ… HTML5å…¨å±æˆåŠŸï¼');
                alert('âœ… å…¨å±æˆåŠŸï¼æŒ‰ESCé€€å‡ºå…¨å±');
            }).catch(err => {
                updateDebug('âŒ å…¨å±å¤±è´¥: ' + err.message);
                alert('âŒ å…¨å±å¤±è´¥: ' + err.message + '\n\nå°è¯•æ–°çª—å£æ‰“å¼€...');
                window.open(iframe.src, '_blank', 'width=' + screen.width + ',height=' + screen.height);
            });
        } else if (iframe.webkitRequestFullscreen) {
            updateDebug('âœ… æµè§ˆå™¨æ”¯æŒ webkitRequestFullscreen (Safari/Chrome)');
            iframe.webkitRequestFullscreen();
        } else if (iframe.mozRequestFullScreen) {
            updateDebug('âœ… æµè§ˆå™¨æ”¯æŒ mozRequestFullScreen (Firefox)');
            iframe.mozRequestFullScreen();
        } else {
            updateDebug('âŒ æµè§ˆå™¨ä¸æ”¯æŒå…¨å±API');
            alert('âŒ æµè§ˆå™¨ä¸æ”¯æŒå…¨å±APIï¼Œå°†æ‰“å¼€æ–°çª—å£');
            window.open(iframe.src, '_blank', 'width=' + screen.width + ',height=' + screen.height);
        }
    }
    
    // ç›‘å¬å…¨å±å˜åŒ–äº‹ä»¶
    document.addEventListener('fullscreenchange', function() {
        if (document.fullscreenElement) {
            updateDebug('ğŸ“± è¿›å…¥å…¨å±æ¨¡å¼');
        } else {
            updateDebug('ğŸ”™ é€€å‡ºå…¨å±æ¨¡å¼');
        }
    });
    
    document.addEventListener('webkitfullscreenchange', function() {
        if (document.webkitFullscreenElement) {
            updateDebug('ğŸ“± è¿›å…¥å…¨å±æ¨¡å¼ (webkit)');
        } else {
            updateDebug('ğŸ”™ é€€å‡ºå…¨å±æ¨¡å¼ (webkit)');
        }
    });
    
    // é¡µé¢åŠ è½½å®Œæˆæ—¶çš„åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
        updateDebug('ğŸ é¡µé¢åŠ è½½å®Œæˆ');
        updateDebug('ğŸŒ ç”¨æˆ·ä»£ç†: ' + navigator.userAgent);
        updateDebug('ğŸ“± æ˜¯å¦ç§»åŠ¨è®¾å¤‡: ' + /Mobi|Android/i.test(navigator.userAgent));
        
        // æ£€æŸ¥iframeæ˜¯å¦åŠ è½½æˆåŠŸ
        const iframe = document.getElementById('test-iframe');
        iframe.onload = function() {
            updateDebug('âœ… PDF iframeåŠ è½½æˆåŠŸ');
        };
        iframe.onerror = function() {
            updateDebug('âŒ PDF iframeåŠ è½½å¤±è´¥');
        };
    });
    </script>
</body>
</html>