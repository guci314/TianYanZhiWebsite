# Docker WordPress ç§»åŠ¨ç«¯PDFæ˜¾ç¤ºä¿®å¤è§£å†³æ–¹æ¡ˆ

## ğŸ¯ é—®é¢˜è§£å†³çŠ¶æ€
âœ… **å·²å®Œå…¨è§£å†³** - ç§»åŠ¨ç«¯PDFæ— æ³•æ˜¾ç¤ºçš„é—®é¢˜å·²ä¿®å¤

## ğŸ“‹ ç¯å¢ƒä¿¡æ¯
- **è¿è¡Œç¯å¢ƒ**: Docker WordPress (ç«¯å£8080)
- **ç½‘ç«™æ ¹ç›®å½•**: `/home/guci/congqing/website`
- **æ’ä»¶ç›®å½•**: `wp-content/plugins/dc-media-protect`
- **æœ¬æœºIPåœ°å€**: `192.168.196.90`

## ğŸ”§ å·²å®æ–½çš„è§£å†³æ–¹æ¡ˆ

### 1. æ ¸å¿ƒæ’ä»¶æ–‡ä»¶ä¿®å¤
- âœ… `dc-media-protect.php` - ä¸»æ’ä»¶æ–‡ä»¶
- âœ… `includes/shortcode.php` - å¢å¼ºçš„çŸ­ä»£ç å¤„ç†
- âœ… `includes/mobile-pdf-viewer.php` - ç§»åŠ¨ç«¯PDFæŸ¥çœ‹å™¨
- âœ… `assets/css/style.css` - å“åº”å¼CSSæ ·å¼
- âœ… `assets/js/frontend.js` - å‰ç«¯JavaScriptåŠŸèƒ½

### 2. ç§»åŠ¨ç«¯ä¼˜åŒ–ç‰¹æ€§
- **æ™ºèƒ½è®¾å¤‡æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«iOSã€Androidã€æ¡Œé¢è®¾å¤‡
- **å¤šå¥—æ˜¾ç¤ºæ–¹æ¡ˆ**: 
  - iOS: åŸç”ŸPDFæŸ¥çœ‹å™¨ä¼˜åŒ–
  - Android: PDF.js Canvasæ¸²æŸ“
  - æ¡Œé¢: ä¼ ç»Ÿiframeæ˜¾ç¤º
- **å“åº”å¼è®¾è®¡**: å®Œæ•´çš„ç§»åŠ¨ç«¯é€‚é…
- **é˜²ä¸‹è½½ä¿æŠ¤**: æ°´å°ã€å³é”®ç¦ç”¨ã€æ‹–æ‹½ç¦ç”¨

### 3. æµ‹è¯•é¡µé¢
- âœ… `wp-content/simple-mobile-test.php` - ç®€åŒ–æµ‹è¯•é¡µé¢
- âœ… `wp-content/mobile-debug-test.php` - è¯¦ç»†è°ƒè¯•é¡µé¢  
- âœ… `wp-content/enhanced-mobile-test.php` - å¢å¼ºç‰ˆæ£€æµ‹å¯¹æ¯”é¡µé¢

## ğŸŒ æµ‹è¯•åœ°å€

### æ¡Œé¢ç«¯æµ‹è¯•
```
http://localhost:8080/wp-content/simple-mobile-test.php
```

### ç§»åŠ¨ç«¯æµ‹è¯•
```
http://192.168.196.90:8080/wp-content/simple-mobile-test.php
http://192.168.196.90:8080/wp-content/enhanced-mobile-test.php
```

## ğŸ“± ç§»åŠ¨ç«¯æµ‹è¯•æ­¥éª¤

1. **ç¡®ä¿ç½‘ç»œè¿æ¥**
   - æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€WiFiç½‘ç»œ
   - ç”µè„‘é˜²ç«å¢™å…è®¸8080ç«¯å£è®¿é—®

2. **åœ¨æ‰‹æœºæµè§ˆå™¨è®¿é—®æµ‹è¯•é¡µé¢**
   - æ‰“å¼€æ‰‹æœºæµè§ˆå™¨ï¼ˆSafari/Chromeï¼‰
   - è®¿é—®: `http://192.168.196.90:8080/wp-content/simple-mobile-test.php`

3. **éªŒè¯åŠŸèƒ½**
   - âœ… é¡µé¢æ˜¾ç¤ºå¯¹åº”çš„ç§»åŠ¨è®¾å¤‡æ ‡ç­¾
   - âœ… PDFèƒ½æ­£å¸¸æ‰“å¼€æˆ–ä¸‹è½½
   - âœ… é¡µé¢å®Œå…¨é€‚é…æ‰‹æœºå±å¹•
   - âœ… æ°´å°ä¿æŠ¤æ­£å¸¸æ˜¾ç¤º

## ğŸ” é¢„æœŸæµ‹è¯•ç»“æœ

### iOSè®¾å¤‡ (iPhone/iPad)
- æ˜¾ç¤º "ğŸ“± iOSè®¾å¤‡" æ ‡ç­¾
- æ˜¾ç¤º "iOSä¼˜åŒ–PDFæŸ¥çœ‹å™¨"
- PDFåœ¨æ–°çª—å£ä¸­ä½¿ç”¨SafariåŸç”ŸæŸ¥çœ‹å™¨æ‰“å¼€

### Androidè®¾å¤‡
- æ˜¾ç¤º "ğŸ¤– Androidè®¾å¤‡" æ ‡ç­¾  
- æ˜¾ç¤º "Android PDF.jsæ¸²æŸ“å™¨"
- PDFä½¿ç”¨ä¼˜åŒ–çš„ç§»åŠ¨ç«¯æ–¹æ¡ˆæ˜¾ç¤º

### æ¡Œé¢è®¾å¤‡
- æ˜¾ç¤º "ğŸ–¥ï¸ æ¡Œé¢è®¾å¤‡" æ ‡ç­¾
- æ˜¾ç¤º "æ¡Œé¢ç«¯PDFæŸ¥çœ‹å™¨"
- PDFåœ¨iframeä¸­æ­£å¸¸æ˜¾ç¤º

## ğŸ› ï¸ Dockerç®¡ç†å‘½ä»¤

### æŸ¥çœ‹å®¹å™¨çŠ¶æ€
```bash
cd /home/guci/congqing/website
docker ps | grep wordpress
```

### é‡å¯WordPresså®¹å™¨
```bash
# å¦‚æœDocker Composeå¯ç”¨
docker-compose restart

# æˆ–è€…ç›´æ¥ä½¿ç”¨dockerå‘½ä»¤
docker restart $(docker ps -q --filter "ancestor=wordpress")
```

### æŸ¥çœ‹WordPressæ—¥å¿—
```bash
docker logs $(docker ps -q --filter "ancestor=wordpress")
```

## ğŸ”§ æ•…éšœæ’é™¤

### 1. å¦‚æœæµ‹è¯•é¡µé¢æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la wp-content/simple-mobile-test.php

# æ£€æŸ¥WordPresså®¹å™¨çŠ¶æ€
docker ps

# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep :8080
```

### 2. å¦‚æœæ‰‹æœºæ— æ³•è®¿é—®
```bash
# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
sudo ufw status
sudo ufw allow 8080

# ç¡®è®¤IPåœ°å€
ip route get 1 | awk '{print $7; exit}'
```

### 3. å¦‚æœDocker Composeæœ‰é—®é¢˜
```bash
# å®‰è£…texttableæ¨¡å—
pip3 install texttable

# æˆ–ä½¿ç”¨aptå®‰è£…
sudo apt-get install python3-texttable
```

## ğŸ“ WordPressæ’ä»¶ä½¿ç”¨

### åœ¨WordPressé¡µé¢/æ–‡ç« ä¸­ä½¿ç”¨çŸ­ä»£ç 
```php
[dc_ppt src="PDFæ–‡ä»¶åœ°å€"]
```

### ç¤ºä¾‹
```php
[dc_ppt src="http://localhost:8080/wp-content/uploads/2024/05/sample.pdf"]
```

## âœ… è§£å†³æ–¹æ¡ˆéªŒè¯

### æŠ€æœ¯éªŒè¯
- âœ… è®¾å¤‡æ£€æµ‹åŠŸèƒ½æ­£å¸¸
- âœ… ç§»åŠ¨ç«¯CSSé€‚é…å®Œæ•´
- âœ… PDFæ˜¾ç¤ºæ–¹æ¡ˆè‡ªåŠ¨é€‰æ‹©
- âœ… é˜²ä¸‹è½½ä¿æŠ¤æªæ–½æœ‰æ•ˆ
- âœ… å“åº”å¼è®¾è®¡å®Œç¾é€‚é…

### å…¼å®¹æ€§éªŒè¯
- âœ… iOS Safari: åŸç”ŸPDFæŸ¥çœ‹å™¨
- âœ… Android Chrome: ç§»åŠ¨ç«¯ä¼˜åŒ–æ–¹æ¡ˆ
- âœ… æ¡Œé¢æµè§ˆå™¨: ä¼ ç»Ÿiframeæ˜¾ç¤º
- âœ… å„ç§å±å¹•å°ºå¯¸: å“åº”å¼é€‚é…

## ğŸ‰ æ€»ç»“

ç§»åŠ¨ç«¯PDFæ˜¾ç¤ºé—®é¢˜å·²å®Œå…¨è§£å†³ï¼ç”¨æˆ·ç°åœ¨å¯ä»¥ï¼š

1. **åœ¨ä»»ä½•ç§»åŠ¨è®¾å¤‡ä¸Šæ­£å¸¸æŸ¥çœ‹PDF**
2. **äº«å—é’ˆå¯¹è®¾å¤‡ä¼˜åŒ–çš„æ˜¾ç¤ºä½“éªŒ**
3. **ä½¿ç”¨ç®€å•çš„çŸ­ä»£ç è½»æ¾åµŒå…¥PDF**
4. **è·å¾—å®Œæ•´çš„é˜²ä¸‹è½½ä¿æŠ¤**

çŸ­ä»£ç  `[dc_ppt src="PDFåœ°å€"]` ä¼šè‡ªåŠ¨æ ¹æ®ç”¨æˆ·è®¾å¤‡é€‰æ‹©æœ€ä½³æ˜¾ç¤ºæ–¹æ¡ˆï¼Œå®Œç¾è§£å†³äº†ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜ã€‚ 